<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

  <ui:composition template="/template.xhtml">


    <ui:define name="title">
      <h:outputText value="#{bundle.SettingsTitle}"></h:outputText>
    </ui:define>

    <ui:define name="body">

      <h:form id="settingsForm">
        <p:panel toggleable="true" collapsed="true">
          <f:facet name="header">
            <p:outputLabel style="float: left" value="Basic"/>
          </f:facet>
          <p:panelGrid columns="2">
            <p:outputLabel value="Start Date: " for="startDate" />
            <p:calendar id="startDate" value="#{settingsView.startDate}" mask="true" pattern="dd/MM/yy" locale="en_GB" timeZone="Europe/London">
            </p:calendar>
            <p:outputLabel value="Admin Fee: " for="adminFee" />
            <p:inputText id="adminFee" value="#{settingsView.adminFee}" >
              <f:convertNumber maxFractionDigits="2"
                               type="number" />
            </p:inputText>
            <p:outputLabel value="Hide Delete Buttons: " for="hideDelete" />
            <p:inputSwitch id="hideDelete" onLabel="Yes" offLabel="No" value="#{settingsView.hideDelete}" />
          </p:panelGrid>
          <p:commandButton process="startDate,adminFee,hideDelete" 
                           value="Save" 
                           update=":growl" 
                           icon="ui-icon-check"
                           style="margin-top: 5px !important"/>
        </p:panel>
      </h:form>
      <h:form id="extrasForm">
        <p:panel toggleable="true"  collapsed="true">
          <f:facet name="header">
            <p:outputLabel style="float: left" value="BBQ Items"/>
          </f:facet>
          <ui:include src="ItemList.xhtml" />
        </p:panel>
      </h:form>

      <h:form id="childReportMessageForm">
        <p:panel toggleable="true"  collapsed="true">
          <f:facet name="header">
            <p:outputLabel style="float: left" value="Child/Activities Report Settings"/>
          </f:facet>
          <p:panelGrid columns="2">
            <p:outputLabel value="Message Title: " for="title" />
            <p:inputText id="title" size="40" maxlength="40" value="#{settingsView.reportMessageHeader}" />
            <p:outputLabel value="Message: " for="message" />
            <p:editor id="message" value="#{settingsView.reportMessage}" />
            <p:outputLabel value="Show Organiser Email: " for="showemail"/>
            <p:inputSwitch id="showemail" offLabel="No" onLabel="Yes" value="#{settingsView.showOrganiserEmail}"/>
          </p:panelGrid>
          <p:commandButton process="title,message,showemail" 
                           value="Save" 
                           update=":growl" 
                           icon="ui-icon-check"
                           style="margin-top: 5px !important"/>
        </p:panel>
      </h:form>

      <h:form id="bbqTicketsMessageForm">
        <p:panel toggleable="true"  collapsed="true">
          <f:facet name="header">
            <p:outputLabel style="float: left" value="Barbecue Tickets Message"/>
          </f:facet>
          <p:panelGrid columns="2">
            <p:outputLabel value="Ticket Title: " for="title" />
            <p:inputText id="title" size="40" maxlength="40" value="#{settingsView.ticketHeader}" />
            <p:outputLabel value="Message: " for="message" />
            <p:editor id="message" value="#{settingsView.ticketMessage}" />
          </p:panelGrid>
          <p:commandButton process="title,message" 
                           value="Save" 
                           update=":growl" 
                           icon="ui-icon-check"
                           style="margin-top: 5px !important"/>
        </p:panel>
      </h:form>

      <h:form id="timetableForm">
        <p:panel toggleable="true"  collapsed="true">
          <f:facet name="header">
            <p:outputLabel style="float: left" value="Timetable Colours"/>
          </f:facet>
          <p:panelGrid columns="2">
            <p:outputLabel value="Monday: " for="monday" />
            <p:colorPicker id="monday" value="#{settingsView.mondayColour}" />      
            <p:outputLabel value="Tuesday " for="tuesday" />
            <p:colorPicker id="tuesday" value="#{settingsView.tuesdayColour}" />      
            <p:outputLabel value="Wednesday: " for="wednesday" />
            <p:colorPicker id="wednesday" value="#{settingsView.wednesdayColour}" />      
            <p:outputLabel value="Thursday: " for="thursday" />
            <p:colorPicker id="thursday" value="#{settingsView.thursdayColour}" />      
            <p:outputLabel value="Friday: " for="friday" />
            <p:colorPicker id="friday" value="#{settingsView.fridayColour}" />      
          </p:panelGrid>
          <p:commandButton process="monday,tuesday,wednesday,thursday,friday" 
                           value="Save" 
                           update=":growl" 
                           icon="ui-icon-check"
                           style="margin-top: 5px !important"/>
        </p:panel>
      </h:form>

    </ui:define>
  </ui:composition>

</html>
